var G=Object.defineProperty;var Y=(a,t,e)=>t in a?G(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var P=(a,t,e)=>Y(a,typeof t!="symbol"?t+"":t,e);import{r as V,g as $,j as c,m as y,u as z,a as m,d as Q,R as I,b as k,Q as H,V as X,c as _}from"./vendor-Db_It1fF.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function e(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=e(n);fetch(n.href,i)}})();var j={},q;function K(){if(q)return j;q=1;var a=V();return j.createRoot=a.createRoot,j.hydrateRoot=a.hydrateRoot,j}var U=K();const Z=$(U);function J({timeLeft:a}){return c.jsxs(y.div,{initial:{scale:0},animate:{scale:1},className:"timer",children:["Mining Time: ",a,"s"]})}function b({score:a}){const t=z();return m.useEffect(()=>{t.start({scale:[1,1.2,1],transition:{duration:.3}})},[a,t]),c.jsxs(y.div,{animate:t,className:"score",children:[c.jsxs("svg",{className:"score-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"#FCD34D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M12 6V12L16 14",stroke:"#FCD34D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"$TAP Mined: ",a]})}function tt({x:a,y:t}){return c.jsx(y.div,{className:"coin-effect",style:{left:a,top:t},initial:{opacity:1,scale:0},animate:{opacity:0,scale:1.5,y:-100},transition:{duration:.8,ease:"easeOut"},children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"#FFD700",stroke:"#B45309",strokeWidth:"2"}),c.jsx("circle",{cx:"20",cy:"20",r:"15",fill:"#FFC800"}),c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fill:"#4B0082",fontSize:"16",fontWeight:"bold",children:"$TAP"})]})})}const g=class g{constructor(){P(this,"coinSound");P(this,"isMuted",!1);this.coinSound=new Audio("/coin-sound.mp3"),this.coinSound.volume=.3}static getInstance(){return g.instance||(g.instance=new g),g.instance}playTapSound(){this.isMuted||this.coinSound.cloneNode().play().catch(()=>{})}toggleMute(){return this.isMuted=!this.isMuted,this.isMuted}setMuted(t){this.isMuted=t}isSoundMuted(){return this.isMuted}};P(g,"instance");let T=g;function et({onGameEnd:a,ConnectButtonComponent:t}){const[e,s]=m.useState(!1),[n,i]=m.useState(0),[r,o]=m.useState(60),[u,v]=m.useState([]),d=T.getInstance(),S=Q();m.useEffect(()=>{let h;return e&&r>0?h=window.setInterval(()=>{o(p=>p-1)},1e3):r===0&&(s(!1),a()),()=>clearInterval(h)},[e,r,a]);const N=h=>{if(e){i(l=>l+1);const p=h.currentTarget.getBoundingClientRect(),x=h.clientX-p.left,M=h.clientY-p.top;v(l=>[...l,{x,y:M}]),d.playTapSound(),setTimeout(()=>{v(l=>l.slice(1))},1e3)}};return c.jsxs("div",{className:"game-container",onClick:N,children:[c.jsx("h1",{className:"title",children:"$TAP Coin Miner"}),!e&&r===60&&c.jsx("div",{className:"start-section",children:S?c.jsx(y.button,{className:"start-button",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:h=>{h.stopPropagation(),s(!0),i(0),o(60)},children:"Start Mining"}):c.jsx("div",{className:"connect-button-container",children:t})}),e&&c.jsxs("div",{className:"game-info",children:[c.jsx(J,{timeLeft:r}),c.jsx(b,{score:n}),c.jsx("div",{className:"instruction",children:"Tap anywhere to mine $TAP coins!"})]}),r===0&&c.jsxs(y.div,{className:"game-over",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[c.jsxs("div",{className:"game-over-text",children:["Mining Complete! You mined ",n," $TAP coins!"]}),c.jsx(y.button,{className:"start-button",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:h=>{h.stopPropagation(),s(!1),i(0),o(60)},children:"Play Again"})]}),u.map((h,p)=>c.jsx(tt,{x:h.x,y:h.y},p))]})}var F,L;function it(){if(L)return F;L=1;var a={linear:function(t,e,s,n){var i=s-e;return i*t/n+e},easeInQuad:function(t,e,s,n){var i=s-e;return i*(t/=n)*t+e},easeOutQuad:function(t,e,s,n){var i=s-e;return-i*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,s,n){var i=s-e;return i*(t/=n)*t*t+e},easeOutCubic:function(t,e,s,n){var i=s-e;return i*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,s,n){var i=s-e;return i*(t/=n)*t*t*t+e},easeOutQuart:function(t,e,s,n){var i=s-e;return-i*((t=t/n-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,s,n){var i=s-e;return i*(t/=n)*t*t*t*t+e},easeOutQuint:function(t,e,s,n){var i=s-e;return i*((t=t/n-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,s,n){var i=s-e;return-i*Math.cos(t/n*(Math.PI/2))+i+e},easeOutSine:function(t,e,s,n){var i=s-e;return i*Math.sin(t/n*(Math.PI/2))+e},easeInOutSine:function(t,e,s,n){var i=s-e;return-i/2*(Math.cos(Math.PI*t/n)-1)+e},easeInExpo:function(t,e,s,n){var i=s-e;return t==0?e:i*Math.pow(2,10*(t/n-1))+e},easeOutExpo:function(t,e,s,n){var i=s-e;return t==n?e+i:i*(-Math.pow(2,-10*t/n)+1)+e},easeInOutExpo:function(t,e,s,n){var i=s-e;return t===0?e:t===n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,s,n){var i=s-e;return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOutCirc:function(t,e,s,n){var i=s-e;return i*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOutCirc:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,s,n){var i=s-e,r,o,u;return u=1.70158,o=0,r=i,t===0?e:(t/=n)===1?e+i:(o||(o=n*.3),r<Math.abs(i)?(r=i,u=o/4):u=o/(2*Math.PI)*Math.asin(i/r),-(r*Math.pow(2,10*(t-=1))*Math.sin((t*n-u)*(2*Math.PI)/o))+e)},easeOutElastic:function(t,e,s,n){var i=s-e,r,o,u;return u=1.70158,o=0,r=i,t===0?e:(t/=n)===1?e+i:(o||(o=n*.3),r<Math.abs(i)?(r=i,u=o/4):u=o/(2*Math.PI)*Math.asin(i/r),r*Math.pow(2,-10*t)*Math.sin((t*n-u)*(2*Math.PI)/o)+i+e)},easeInOutElastic:function(t,e,s,n){var i=s-e,r,o,u;return u=1.70158,o=0,r=i,t===0?e:(t/=n/2)===2?e+i:(o||(o=n*(.3*1.5)),r<Math.abs(i)?(r=i,u=o/4):u=o/(2*Math.PI)*Math.asin(i/r),t<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t*n-u)*(2*Math.PI)/o))+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*n-u)*(2*Math.PI)/o)*.5+i+e)},easeInBack:function(t,e,s,n,i){var r=s-e;return i===void 0&&(i=1.70158),r*(t/=n)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,s,n,i){var r=s-e;return i===void 0&&(i=1.70158),r*((t=t/n-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,s,n,i){var r=s-e;return i===void 0&&(i=1.70158),(t/=n/2)<1?r/2*(t*t*(((i*=1.525)+1)*t-i))+e:r/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},easeInBounce:function(t,e,s,n){var i=s-e,r;return r=a.easeOutBounce(n-t,0,i,n),i-r+e},easeOutBounce:function(t,e,s,n){var i=s-e;return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,s,n){var i=s-e,r;return t<n/2?(r=a.easeInBounce(t*2,0,i,n),r*.5+e):(r=a.easeOutBounce(t*2-n,0,i,n),r*.5+i*.5+e)}};return F=a,F}var nt=it();function st(a){return a*Math.PI/180}function f(a,t){return a+Math.random()*(t-a)}function rt(a,t){return Math.floor(a+Math.random()*(t-a+1))}var C;(function(a){a[a.Circle=0]="Circle",a[a.Square=1]="Square",a[a.Strip=2]="Strip"})(C||(C={}));var w;(function(a){a[a.Positive=1]="Positive",a[a.Negative=-1]="Negative"})(w||(w={}));class at{constructor(t,e,s,n){this.getOptions=e;const{colors:i,initialVelocityX:r,initialVelocityY:o}=this.getOptions();this.context=t,this.x=s,this.y=n,this.w=f(5,20),this.h=f(5,20),this.radius=f(5,10),this.vx=typeof r=="number"?f(-r,r):f(r.min,r.max),this.vy=typeof o=="number"?f(-o,0):f(o.min,o.max),this.shape=rt(0,2),this.angle=st(f(0,360)),this.angularSpin=f(-.2,.2),this.color=i[Math.floor(Math.random()*i.length)],this.rotateY=f(0,1),this.rotationDirection=f(0,1)?w.Positive:w.Negative}update(){const{gravity:t,wind:e,friction:s,opacity:n,drawShape:i}=this.getOptions();this.x+=this.vx,this.y+=this.vy,this.vy+=t,this.vx+=e,this.vx*=s,this.vy*=s,this.rotateY>=1&&this.rotationDirection===w.Positive?this.rotationDirection=w.Negative:this.rotateY<=-1&&this.rotationDirection===w.Negative&&(this.rotationDirection=w.Positive);const r=.1*this.rotationDirection;if(this.rotateY+=r,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=n,this.context.lineCap="round",this.context.lineWidth=2,i&&typeof i=="function")i.call(this,this.context);else switch(this.shape){case C.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case C.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case C.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class ot{constructor(t,e){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenInitTime=Date.now(),this.particles=[],this.particlesGenerated=0,this.removeParticleAt=n=>{this.particles.splice(n,1)},this.getParticle=()=>{const n=f(this.x,this.w+this.x),i=f(this.y,this.h+this.y);return new at(this.context,this.getOptions,n,i)},this.animate=()=>{const{canvas:n,context:i,particlesGenerated:r,lastNumberOfPieces:o}=this,{run:u,recycle:v,numberOfPieces:d,debug:S,tweenFunction:N,tweenDuration:h}=this.getOptions();if(!u)return!1;const p=this.particles.length,x=v?p:r,M=Date.now();if(x<d){o!==d&&(this.tweenInitTime=M,this.lastNumberOfPieces=d);const{tweenInitTime:l}=this,O=M-l>h?h:Math.max(0,M-l),W=N(O,x,d,h),A=Math.round(W-x);for(let B=0;B<A;B++)this.particles.push(this.getParticle());this.particlesGenerated+=A}return S&&(i.font="12px sans-serif",i.fillStyle="#333",i.textAlign="right",i.fillText(`Particles: ${p}`,n.width-10,n.height-20)),this.particles.forEach((l,O)=>{l.update(),(l.y>n.height||l.y<-100||l.x>n.width+100||l.x<-100)&&(v&&x<=d?this.particles[O]=this.getParticle():this.removeParticleAt(O))}),p>0||x<d},this.canvas=t;const s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.getOptions=e}}const E={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:nt.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};let ct=class{constructor(t,e){this.lastFrameTime=Date.now(),this.setOptionsWithDefaults=n=>{const i={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...i,...E,...n},Object.assign(this,n.confettiSource)},this.update=()=>{const{options:{run:n,onConfettiComplete:i,frameRate:r},canvas:o,context:u}=this;if(r){const v=Date.now(),d=v-this.lastFrameTime;if(d<1e3/r){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=v-d%r}n&&(u.fillStyle="white",u.clearRect(0,0,o.width,o.height)),this.generator.animate()?this.rafId=requestAnimationFrame(this.update):(i&&typeof i=="function"&&this.generator.particlesGenerated>0&&i.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.generator=new ot(this.canvas,()=>this.options),this.options=e,this.update()}get options(){return this._options}set options(t){var n,i;const e=(n=this._options)==null?void 0:n.run,s=(i=this._options)==null?void 0:i.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&s===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&e===!1&&this.update()}};const ut=I.createRef();class R extends I.Component{constructor(t){super(t),this.canvas=I.createRef(),this.canvas=t.canvasRef||ut}componentDidMount(){if(this.canvas.current){const t=D(this.props)[0];this.confetti=new ct(this.canvas.current,t)}}componentDidUpdate(){const t=D(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,e]=D(this.props),s={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...e.style};return c.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...e,style:s})}}R.defaultProps={...E};R.displayName="ReactConfetti";function D(a){const t={},e={},s={},n=[...Object.keys(E),"confettiSource","drawShape","onConfettiComplete","frameRate"],i=["canvasRef"];for(const r in a){const o=a[r];n.includes(r)?t[r]=o:i.includes(r)?i[r]=o:s[r]=o}return[t,s,e]}const ht=I.forwardRef((a,t)=>c.jsx(R,{canvasRef:t,...a})),lt=()=>{const[a,t]=m.useState({width:window.innerWidth,height:window.innerHeight});return m.useEffect(()=>{const e=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),c.jsx(ht,{width:a.width,height:a.height,numberOfPieces:200,recycle:!1,colors:["#FFD700","#FF6B4A","#4B0082","#800080"],gravity:.3})};function ft(){const[a,t]=m.useState(!1),e=Q(),s=()=>{t(!0),setTimeout(()=>t(!1),3e3)};return c.jsxs("div",{className:"container",children:[a&&c.jsx(lt,{}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:`wallet-button ${e?"":"hidden"}`,children:c.jsx(k,{profileModal:!0,showBalance:!0})}),c.jsx(et,{onGameEnd:s,ConnectButtonComponent:e?null:c.jsx(k,{profileModal:!0,showBalance:!0})})]})]})}const dt=new H;Z.createRoot(document.getElementById("root")).render(c.jsx(I.StrictMode,{children:c.jsx(X,{config:{permissions:["SIGN_TRANSACTION","ACCESS_ADDRESS"],ensurePermissions:!0},theme:{displayTheme:"light"},children:c.jsx(_,{client:dt,children:c.jsx(ft,{})})})}));
